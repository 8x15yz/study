<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Document</title>
</head>
<body>
    <form>
        <input type="text">
        <button>제출</button>
    </form>

    <div id="text-list">
    </div>
    <!-- 1. acxios 삽입 -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>

        const API_URI = 'https://edutony.pythonanywhere.com/api/v1/articles/'
        const textList = document.querySelector('#text-list')

        const form = document.querySelector('form')

        form.addEventListener('submit', function (event) {
            event.preventDefault()
            axios.post(API_URI, {
                title: event.target.childNodes[1].value,
                content: event.target.childNodes[1].value
            })
            .then(response => {
                console.log(response)
            })
        })

        from.addEventListener

        axios.get(API_URI)
          .then(response => {   
            const divTag = document.createElement('div')

            for (let i = 0; i < response.data.length; i++) {
                const { id, title, content, created_at } = response.data[i]

                const pkTag = document.createElement('p')
                const titleTag = document.createElement('p')
                const contentTag = document.createElement('p')
                const timeTag = document.createElement('p')


                pkTag.innerText = id
                titleTag.innerText = title
                contentTag.innerText = content
                timeTag.innerText = created_at

                textList.append(pkTag, titleTag, contentTag, timeTag)

                console.log(textList)
                const brTag = document.createElement('br')
                textList.append(brTag)
            }
          })
    </script>
</body>
</html>